define("searchresult:widget/ui/view/FilterViewTop/FilterViewTop.js",function(t,e,i){BD=window.BD||{},BD.IMG=BD.IMG||{};var s=t("common:widget/ui/jquery/jquery.js"),r=t("common:widget/ui/EventEmitter/EventEmitter.js"),n=t("searchresult:widget/ui/view/ViewClass/ViewClass.js"),l=t("searchresult:widget/ui/base/ParamsBus/ParamsBus.js"),a=t("searchresult:widget/ui/base/statistic/statistic.js"),o=t("searchresult:widget/ui/base/Timeline/Timeline.js");BD.IMG.filter=i.exports=function(){this.defaultOpts={HTML_SHOW:"&lt;",HTML_HIDE:"&gt;"},this.deFaultFilter={},this.filterWidth=345,this.totalWidth=276,this.foldWidth=276,this.filterContainer=null,this.isShow=null},s.inherits(BD.IMG.filter,n),s.extend(BD.IMG.filter.prototype,{showFilter:function(){this.isShow=!0;var t=this.filter,e=this.totalWidth-this.foldWidth,i=this.foldWidth;s(t).addClass("animating");var r=o({rander:function(s){t.style.width=e*s+i+"px"},end:function(){s(t).removeClass("animating");var e=new Date;e.setTime(e.getTime()+6048e6),s.cookie("fb",1,{expires:e})}});r.init(),r.launch()},hideFilter:function(){this.isShow=!1;var t=this.filter,e=this.foldWidth-this.totalWidth,i=this.totalWidth;s(t).addClass("animating");var r=o({rander:function(s){t.style.width=e*s+i+"px"},end:function(){s(t).removeClass("animating");var e=new Date;e.setTime(e.getTime()+6048e6),s.cookie("fb",0,{expires:e})}});r.init(),r.launch()},setDefault:function(){l.resetHashConf(this.deFaultFilter,["cl","ct"])},getDefaultFilter:function(){return this.deFaultFilter},checkIsD:function(){},render:function(t){this.deFaultFilter=t.deFaultFilterConf,this.isDefaultFilter=t.isDefaultFilter,this.setInitValue(t)},setInitValue:function(t){var e=t.currImgLineWidth;this.topInfoBar&&e>0},ini:function(){this.filter=document.getElementById("filter"),this.filterContainer=document.getElementById("filter-container"),this.topInfoBar=document.getElementById("topInfoBar");var t=parseInt(s.cookie("fb"));t?this.showFilter():this.hideFilter();var e=this;s(this.filter).on("mouseover",function(t){t=t||window.event;for(var i,r=t.target||t.srcElement,n=r,l=e.filter;n&&n!==l&&!s(n).hasClass("subFilter");)n=n.parentNode;i=s(n),n&&i.hasClass("subFilter")&&(clearTimeout(n.timer),n.timer=setTimeout(function(){i.addClass("filter-hover")},250))}),s(this.filter).on("mouseout",function(t){t=t||window.event;for(var i=(t.toElement||t.relatedTarget,t.fromElement||t.target),r=e.filter,n=s(i);i&&i!==r&&!s(i).hasClass("subFilter");)i=i.parentNode;n=s(i),i&&n.hasClass("subFilter")&&(clearTimeout(i.timer),i.timer=setTimeout(function(){n.removeClass("filter-hover")},250))}),r.eventCenter.on("click.default",function(){e.checkIsD()||(a(null,25,{fb:"d"}),e.setDefault())})}})});
;define("searchresult:widget/ui/view/SizeFilterViewTop/SizeFilterViewTop.js",function(t,e,s){BD=window.BD||{},BD.IMG=BD.IMG||{};var i=t("common:widget/ui/jquery/jquery.js"),r=t("searchresult:widget/ui/view/ViewClass/ViewClass.js"),a=t("searchresult:widget/ui/base/ParamsBus/ParamsBus.js"),l=t("searchresult:widget/ui/base/utils/utils.js"),n=t("searchresult:widget/ui/base/statistic/statistic.js");BD.IMG.SizeFilterView=s.exports=function(t){this.defaultOpts={SIZE_HTMLSTR:'<li val={{=it.value}} data-text="{{=it.text}}" par="{{=it.par}}" isD={{=it.isD}}>{{=it.text}}</li>',SIZE_HTMLSTR_S:'<li val={{=it.value}} data-text="{{=it.text}}" style="text-decoration: none;" par="{{=it.par}}" isD={{=it.isD}}>{{=it.text}}<p class="info">宽:<input class="default" type="text" value="{{=it.width}}" name="swidth" id="swidth"><br/>高:<input class="default" type="text" value="{{=it.height}}" name="sheight" id="sheight"><br /><button name="sizeSubmit" id="sizeSubmit" >确定</button></p></li>',data:[{value:"0",text:"全部尺寸",par:"z",isD:1},{value:"9",text:"特大尺寸",par:"z"},{value:"3",text:"大尺寸",par:"z"},{value:"2",text:"中尺寸",par:"z"},{value:"1",text:"小尺寸",par:"z"},{value:"null",text:"电脑壁纸",par:"s",type:2},{value:"null",text:"手机壁纸",par:"s",type:2},{value:"null",text:"自定义",par:"z",type:1,width:window.screen.width||0,height:window.screen.height||0}],defaultValue:"z_0",defaultPcData:[{w:1024,h:768,text:"1024x768",par:"s"},{w:1280,h:800,text:"1280x800",par:"s"},{w:1280,h:1024,text:"1280x1024",par:"s"},{w:1366,h:768,text:"1366x768",par:"s"},{w:1440,h:900,text:"1440x900",par:"s"},{w:1680,h:1050,text:"1680x1050",par:"s"},{w:1920,h:1080,text:"1920x1080",par:"s"}],defaultWiseData:[{w:2560,h:1440,text:"2560x1440",par:"s"},{w:1920,h:1080,text:"1920x1080 ",par:"s"},{w:1280,h:720,text:"1280x720",par:"s"},{w:960,h:540,text:"960×540",par:"s"},{w:854,h:480,text:"854×480",par:"s"},{w:800,h:480,text:"800×480",par:"s"},{w:480,h:320,text:"480×320",par:"s"},{w:320,h:240,text:"320×240",par:"s"},{w:220,h:176,text:"220×176",par:"s"}]},this.$container=null,this.filterList=[],this.options=i.extend({},this.defaultOpts,t||{})},i.inherits(BD.IMG.SizeFilterView,r),i.extend(BD.IMG.SizeFilterView.prototype,{ini:function(t){this.$container=i(document.getElementById(t||"sizeFilter")),this.$container.addClass("sizeFilter"),this.showFilter()},render:function(t){var e={isModifyHash:!1},s={},i=t.currFilterConf;this.options.defaultValue="z_"+t.deFaultFilterConf.z,s.z=i.z,s.s=i.s,s.width=i.width,s.height=i.height,s.pn=t.currPn,this.setInitValue(s,e)},inputOnfocus:function(){this.value==this.defaultValue&&"default"==this.className&&(this.value="",i(this).removeClass("default"))},clearExactValue:function(){var t=document.getElementById("swidth"),e=document.getElementById("sheight");t.value=t.defaultValue,i(t).addClass("default"),e.value=e.defaultValue,i(e).addClass("default")},setOverClass:function(t){i(t).addClass("hover")},setOutClass:function(t){i(t).removeClass("hover")},setDefault:function(t,e){this.setCurFilter(this.filterList[this.options.defaultValue],t,e)},submitWH:function(t,e){var s=document.getElementById("swidth"),r=document.getElementById("sheight"),a=parseInt(s.value),l=parseInt(r.value),u=[];if((!a||0>a||isNaN(a))&&(s.value="",u.push(s)),(!l||0>l||isNaN(l))&&(r.value="",u.push(r)),u.length>0)return u[0].focus(),!1;this.curFilter&&i(this.curFilter).removeClass("selected"),this.curFilter=e,s.value=a,r.value=l,this.currentStateCon.innerHTML=a+"x"+l,$container.removeClass("filter-hover wp-wise-select wp-pc-select");var o=this.getCurrentFilterNum();this.$container.hasClass("filter-on")||o++,n(t,25,{fb:"z_"+a+"x"+l,currf:"size",onnum:o}),this.setURI(this.curFilter.getAttribute("par"),a,l,"",!0)},showFilter:function(){var t=0,e=this.options.data,s=e.length,r=this;this.currentStateCon=l.str2dom('<div class="filter-menu-item">全部尺寸</div>'),this.$container.append(this.currentStateCon);var a=document.createElement("ul");a.className="filter-item-con";var u=l.str2dom('<span class="menu-con-arrow"></span>');this.$container.append(u);for(var o=doT.compile(this.options.SIZE_HTMLSTR_S),h=doT.compile(this.options.SIZE_HTMLSTR);s>t;t++){var c,d=e[t],p=!0;if(d.type&&1==d.type){p=!1,c=l.str2dom(o(e[t])),i(c).addClass("detail-size-filter");var v=c;setTimeout(function(){var t=document.getElementById("sizeSubmit");document.getElementById("swidth").onfocus=r.inputOnfocus,document.getElementById("sheight").onfocus=r.inputOnfocus,document.getElementById("swidth").onkeydown=function(t){t=t||window.event;var e=t.keyCode;if(13==e)r.submitWH(t,v);else if(!(8===e||9===e||46===e||e>=48&&57>=e||e>=96&&105>=e))return t.preventDefault?t.preventDefault():t.returnValue=!1,!1},document.getElementById("sheight").onkeydown=function(t){t=t||window.event;var e=t.keyCode;if(13==e)r.submitWH(t,v);else if(!(8===e||9===e||46===e||e>=48&&57>=e||e>=96&&105>=e))return t.preventDefault?t.preventDefault():t.returnValue=!1,!1},t.onclick=function(t){t=t||window.event,r.submitWH(t,v),r.$container.addClass("input")}},1)}else if(d.type&&2===d.type){c=l.str2dom(h(d));var f,m;if("电脑壁纸"===d.text?(f=this.options.defaultPcData,c.hoverClass="wp-pc-hover",m="wp-pc"):"手机壁纸"===d.text&&(f=this.options.defaultWiseData,c.hoverClass="wp-wise-hover",m="wp-wise"),f){var w=this.createChild(f);w&&(i(w).addClass("sub-item-container"),i(c).addClass("sub-item-parent "+m),c.innerHTML=d.text,c.appendChild(w),i(c).on("mouseover",function(t){var e=t.hoverClass;return function(){clearTimeout(t.timer),t.timer=setTimeout(function(){i(t).addClass("hover"),i(t.parentNode).addClass(e)},200)}}(c)),i(c).on("mouseout",function(t){var e=t.hoverClass;return function(){clearTimeout(t.timer),t.timer=setTimeout(function(){i(t).removeClass("hover"),i(t.parentNode).removeClass(e)},200)}}(c)))}}else c=l.str2dom(h(e[t]));p&&(c.onclick=function(t){if(i(this).hasClass("selected"))return!1;var e=r.getCurrentFilterNum();"0"!==this.getAttribute("val")?r.$container.hasClass("filter-on")||e++:e--,n(t,25,{fb:this.getAttribute("par")+"_"+this.getAttribute("val"),currf:"size",onnum:e}),r.setCurFilter(this,"",!0),"null"==this.getAttribute("val")}),2!==d.type&&(c.onmouseover=function(){this!=r.curFilter&&r.setOverClass(this)},c.onmouseout=function(){r.setOutClass(this)}),1===d.isD&&i(c).addClass("list-first-item"),this.filterList[e[t].par+"_"+e[t].value]=c,a.appendChild(c)}this.$container.append(a)},createChild:function(t){if(t&&!(t.length<1)){for(var e='<li data-text="{{=it.text}}" class="wp-item"  w="{{=it.w}}" h="{{=it.h}}" par="{{=it.par}}" >{{=it.text}}</li>',s=doT.compile(e),r=document.createElement("ul"),a=this,u=i.browser.ie&&6==parseInt(i.browser.version),o=0,h=t.length;h>o;o++){var c=l.str2dom(s(t[o]));u&&(c.onmouseenter=function(){this!=a.curFilter&&a.setOverClass(this)},c.onmouseleave=function(){a.setOutClass(this)}),this.filterList["s_"+t[o].w+"_"+t[o].h]=c,c.onclick=function(t){t=t||window.event;var e=a.getCurrentFilterNum();a.$container.hasClass("filter-on")||e++;var s=this.getAttribute("w"),i=this.getAttribute("h");n(t,25,{fb:"wpz_"+s+"x"+i,currf:"size",onnum:e}),a.setCurrentWP(this,!0),t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},r.appendChild(c)}return r}},setCurrentWP:function(t,e){if(this.curFilter!=t){this.curFilter&&i(this.curFilter).removeClass("selected");var s=t.parentNode.parentNode,r=this.$container;if(s&&("wp-pc-hover"===s.hoverClass?(r.removeClass("wp-wise-select"),r.removeClass("wp-pc-select"),r.addClass("wp-pc-select")):"wp-wise-hover"===s.hoverClass?(r.addClass("wp-wise-select"),r.removeClass("input"),r.removeClass("wp-pc-select")):"input"===s.hoverClass&&(r.addClass("input"),r.removeClass("wp-pc-select"),r.removeClass("wp-wise-select"))),this.curFilter=t,this.$container.removeClass("filter-hover"),i(t).addClass("selected"),i(t.parentNode).addClass("child-select"),this.currentStateCon.innerHTML=t.getAttribute("data-text"),e){var l,n=t.getAttribute("w"),u=t.getAttribute("h");a.resetHashConf({z:"",s:"1",width:n,height:u,pn:l},["cl","ct"])}}},setInitValue:function(t,e){var s=t.pn,r=parseInt(t.z),a=parseInt(t.s),l=parseInt(t.width),n=parseInt(t.height),u=e?e.isModifyHash:!0;if(this.$container.addClass("filter-on"),i(".bz-indicator").removeClass("active"),!isNaN(a)&&1==a||1==a||!l||!n||isNaN(l)||isNaN(n))if(1!=a||isNaN(a))r&&!isNaN(r)?this.setCurFilter(this.filterList["z_"+r],s,u):this.setDefault(s,u);else{var o=this.filterList["s_"+t.width+"_"+t.height];o&&this.setCurrentWP(o,u)}else document.getElementById("swidth").value=l,document.getElementById("sheight").value=n,this.setCurFilter(this.filterList.z_null,s),u&&this.setURI(this.curFilter.getAttribute("par"),l,n,s,u)},setDefault:function(t,e){this.$container.removeClass("filter-on"),this.clearExactValue(),this.setCurFilter(this.filterList[this.options.defaultValue],t,e)},clearExactValue:function(){var t=document.getElementById("swidth"),e=document.getElementById("sheight");t.value=t.defaultValue,i(t).addClass("default"),e.value=e.defaultValue,i(e).addClass("default")},setCurFilter:function(t,e,s){if(this.curFilter!=t&&"s"!==t.getAttribute("par")){if(t&&i(t).hasClass("detail-size-filter")){this.curFilter&&i(this.curFilter).removeClass("selected"),this.curFilter=t;var r=document.getElementById("swidth").value,a=document.getElementById("sheight").value;return this.currentStateCon.innerHTML=r+"x"+a,void this.$container.removeClass("filter-hover wp-wise-select wp-pc-select input")}var l=t.getAttribute("val");this.curFilter&&"null"!==l&&i(this.curFilter).removeClass("selected"),this.curFilter=t,i(this.curFilter).addClass("selected"),"null"!==l&&(this.currentStateCon.innerHTML=t.getAttribute("data-text"),this.$container.removeClass("filter-hover wp-wise-select wp-pc-select input"),s&&this.curFilter.getAttribute("val")&&"null"!=l&&this.setURI(this.curFilter.getAttribute("par"),this.curFilter.getAttribute("val"),"",e,s))}},setURI:function(t,e,s,i){var r,i=i||"",l=[],n=a.getHashConf().s;return 1==n&&"s"!=t&&l.push("s"),"s"==t?(l=l.concat(["cl","ct","z","width","height"]),void a.resetHashConf({s:e,pn:i},l)):(r=s||"z"!=t?{z:"",width:e,height:s,pn:i}:{z:e,width:"0",height:"0",pn:i},l=l.concat(["cl","ct"]),void a.resetHashConf(r,l))}})});
;define("searchresult:widget/ui/view/ColorFilterViewTop/ColorFilterViewTop.js",function(t,e,i){BD=window.BD||{},BD.IMG=BD.IMG||{};var s=t("common:widget/ui/jquery/jquery.js"),r=t("searchresult:widget/ui/view/ViewClass/ViewClass.js"),l=t("searchresult:widget/ui/base/ParamsBus/ParamsBus.js"),a=t("searchresult:widget/ui/base/utils/utils.js"),o=t("searchresult:widget/ui/base/statistic/statistic.js");BD.IMG.ColorFilterView=i.exports=function(t){this.defaultOpts={COLOR_HTMLSTR_1:'<li val="{{=it.value}}" data-text="{{=it.text}}" class="{{=it.classShim}}" title="{{=it.tips}}" isD={{=it.isD}}>{{=it.text}}</li>',COLOR_HTMLSTR:'<div val="{{=it.value}}" data-color="{{=it.color}}" data-text="{{=it.text}}" title="{{=it.text}}" class="colorBlock {{=it.classShim}}" isD={{=it.isD}}><a  href="javascript:void(0);" hidefocus="true" style="background-color:{{=it.color}};border-color:{{=it.borderC}}"></a></div>',COLOR_HTMLSTR_2:'<div val="{{=it.value}}" data-bg="{{=it.bg}}" data-text="{{=it.text}}" title="{{=it.text}}" class="colorBlock {{=it.classShim}}" isD={{=it.isD}}><span class="picbox" style="display:block;"><a   href="javascript:void(0);" hidefocus="true" ></a></span></div>',data:[{value:"0",text:"全部颜色",type:1,tips:"不做颜色筛选",classShim:"",isD:1},{value:"1",text:"红色",color:"#DE2020",borderC:"#CB1C1C",classShim:"red"},{value:"256",text:"橙色",color:"#FE6C00",borderC:"#E96300",classShim:"orange"},{value:"2",text:"黄色",color:"#FEBF00",borderC:"#E9B000",classShim:"yellow"},{value:"4",text:"绿色",color:"#59A725",borderC:"#539B23",classShim:"green"},{value:"32",text:"紫色",color:"#892BCF",borderC:"#7A27B7",classShim:"purple"},{value:"64",text:"粉色",color:"#D744BA",borderC:"#C63FAB",classShim:"pink"},{value:"8",text:"青色",color:"#06B7C8",borderC:"#07A6B7",classShim:"cyan"},{value:"16",text:"蓝色",color:"#0065FE",borderC:"#005CEB",classShim:"blue"},{value:"128",text:"棕色",color:"#733413",borderC:"#6B3012",classShim:"gray"},{value:"1024",text:"白色",color:"#fff",borderC:"#C0BABC",classShim:"white",type:3},{value:"512",text:"黑色",color:"#000",borderC:"#000",classShim:"black"},{value:"2048",text:"黑白",type:2,tips:"黑白",classShim:"bw",bg:"#fff url(http://img0.bdstatic.com/img/image/newFilterBg.png) no-repeat -1px -319px"}],defaultValue:0},this.container=null,this.filterList=[],this.curFilter=null,this.options=s.extend({},this.defaultOpts,t||{})},s.inherits(BD.IMG.ColorFilterView,r),s.extend(BD.IMG.ColorFilterView.prototype,{showFilter:function(){var t=this.options.data,e=0,i=t.length,r=this,l=s.browser.ie&&6==parseInt(s.browser.version);this.currentStateCon=a.str2dom('<div class="filter-menu-item">全部颜色</div>'),this.container.appendChild(this.currentStateCon);var n=a.str2dom('<span class="menu-con-arrow"></span>');this.container.appendChild(n);var c=a.str2dom('<div class="filter-item-con"></div>'),u=document.createElement("ul"),d=document.createElement("div");for(d.className="colorBox";i>e;e++){var h,p=t[e];if(t[e].type&&1==t[e].type){var m=doT.compile(this.options.COLOR_HTMLSTR_1);h=a.str2dom(m(t[e])),l&&h&&(h.onmouseover=function(){s(this).addClass("hover")},h.onmouseout=function(){s(this).removeClass("hover")}),u.appendChild(h)}else if(t[e].type&&2==t[e].type){var C=doT.compile(this.options.COLOR_HTMLSTR_2);h=a.str2dom(C(t[e])),d.appendChild(h)}else if(t[e].type&&3==t[e].type){var f=doT.compile(this.options.COLOR_HTMLSTR_2);h=a.str2dom(f(t[e])),d.appendChild(h)}else{var v=doT.compile(this.options.COLOR_HTMLSTR);t[e].borderC="#fff",h=a.str2dom(v(t[e])),d.appendChild(h)}1===p.isD&&s(h).addClass("list-first-item"),h.onclick=function(t){if(s(this).hasClass("selected"))return!1;var e=r.getCurrentFilterNum();"0"!==this.getAttribute("val")?s(r.container).hasClass("filter-on")||e++:e--,o(t,25,{fb:"ic_"+this.getAttribute("val"),currf:"color",onnum:e}),r.setCurFilter(this,"",!0)},this.filterList[t[e].value]=h}c.appendChild(u),c.appendChild(d),this.container.appendChild(c)},setInitValue:function(t,e){var i=parseInt(t.ic),r=parseInt(t.pn);i&&!isNaN(i)?(s(this.container).addClass("filter-on"),this.setCurFilter(this.filterList[i],r,e.isModifyHash)):this.setDefault(r,e.isModifyHash)},setDefault:function(t,e){s(this.container).removeClass("filter-on"),this.setCurFilter(this.filterList[this.options.defaultValue],t,e)},setCurFilter:function(t,e,i){if(!t)return void this.setDefault(e,i);if(this.curFilter==t)return void(this.curFilter.getAttribute("val")!=this.options.defaultValue&&i&&this.setDefault(e,i));this.curFilter&&this.curFilter.getElementsByTagName("A")[0]?this.curFilter.getElementsByTagName("A")[0].className="":this.curFilter&&s(this.curFilter).removeClass("selected"),this.curFilter=t,this.curFilter.getElementsByTagName("A")[0]?this.curFilter.getElementsByTagName("A")[0].className="selected":s(this.curFilter).addClass("selected"),s(this.container).removeClass("filter-hover");var r=t.getAttribute("data-color"),l=t.getAttribute("data-text");if(i&&this.curFilter.getAttribute("val")&&this.setURI(this.curFilter.getAttribute("val"),e),l){var a="";r?(a+='<span class="menu-item-color" style=" background-color: '+r+'"></span>',s("#colorFilter .filter-menu-item").css({"padding-left":10,width:70,"text-indent":"20px"})):(r=t.getAttribute("data-bg"))?(s("#colorFilter .filter-menu-item").css({"padding-left":10,width:70,"text-indent":"20px"}),a+='<span class="menu-item-color" style=" background: '+r+'"></span>'):"bzColorFilter"==this.currentStateCon.parentNode.attributes.id.value?this.currentStateCon.style.paddingLeft="30px":s("#colorFilter .filter-menu-item").css({"padding-left":0,width:80,"text-indent":"10px"}),a+=l,this.currentStateCon.innerHTML=a}},setURI:function(t,e){e=e||"",l.resetHashConf({ic:t,pn:e},["cl","ct"])},setOverClass:function(t){s(t).addClass("hover")},setOutClass:function(t){s(t).removeClass("hover")},ini:function(t){this.container=document.getElementById(t||"colorFilter"),s(this.container).addClass("colorFilter"),this.showFilter()},render:function(t){var e={isModifyHash:!1},i={},s=t.currFilterConf;this.options.defaultValue=t.deFaultFilterConf.ic,i.ic=s.ic,i.pn=t.currPn,this.setInitValue(i,e)}})});
;define("searchresult:widget/ui/view/TypeFilterViewTop/TypeFilterViewTop.js",function(t,e,s){BD=window.BD||{},BD.IMG=BD.IMG||{};var i=t("common:widget/ui/jquery/jquery.js"),r=t("searchresult:widget/ui/view/ViewClass/ViewClass.js"),a=t("searchresult:widget/ui/base/ParamsBus/ParamsBus.js"),l=t("searchresult:widget/ui/base/utils/utils.js"),n=t("searchresult:widget/ui/base/statistic/statistic.js");BD.IMG.TypeFilterView=s.exports=function(t){this.defaultOpts={TYPE_HTMLSTR:'<li val={{=it.value}} data-text="{{=it.text}}" par="{{=it.par}}" isD={{=it.isD}}>{{=it.text}}</li>',defaultValue:"st_-1",data:[{value:"-1",text:"全部类型",par:"st",isD:1},{value:"3",text:"头像图片",par:"s"},{value:"1",text:"面部特写",par:"face"},{value:"1",text:"卡通画",par:"st"},{value:"2",text:"简笔画",par:"st"},{value:"6",text:"动态图片",par:"lm"},{value:"7",text:"静态图片",par:"lm"}]},this.container=null,this.filterList=[],this.curFilter=null,this.options=i.extend({},this.defaultOpts,t||{})},i.inherits(BD.IMG.TypeFilterView,r),i.extend(BD.IMG.TypeFilterView.prototype,{showFilter:function(){var t=this.options.data,e=0,s=t.length,r=this;this.currentStateCon=l.str2dom('<div class="filter-menu-item">全部类型</div>'),this.container.appendChild(this.currentStateCon);var a=l.str2dom('<span class="menu-con-arrow"></span>');this.container.appendChild(a);var u=document.createElement("ul");for(u.className="filter-item-con",this.filterFormatFn||(this.filterFormatFn=doT.compile(this.options.TYPE_HTMLSTR));s>e;e++){var o,h=t[e];o=l.str2dom(this.filterFormatFn(t[e])),o.onclick=function(t){if(i(this).hasClass("selected"))return!1;var e=r.getCurrentFilterNum();"-1"!==this.getAttribute("val")?i(r.container).hasClass("filter-on")||e++:e--,n(t,25,{fb:this.getAttribute("par")+"_"+this.getAttribute("val"),currf:"type",onnum:e}),r.setCurFilter(this,"",!0)},o.onmouseover=function(){this!=r.curFilter&&r.setOverClass(this)},o.onmouseout=function(){r.setOutClass(this)},1===h.isD&&i(o).addClass("list-first-item"),this.filterList[t[e].par+"_"+t[e].value]=o,u.appendChild(o)}this.container.appendChild(u)},setInitValue:function(t,e){var s=this.filterList,r=parseInt(t.st),a=parseInt(t.face),l=t.pn,n=parseInt(t.s),u=parseInt(t.lm),o=e?e.isModifyHash:!0;i(this.container).addClass("filter-on"),a&&!isNaN(a)?this.setCurFilter(s["face_"+a],l,o):n&&1!=n&&!isNaN(n)?this.setCurFilter(s["s_"+n],l,o):r&&!isNaN(r)&&-1!==r?this.setCurFilter(s["st_"+r],l,o):u&&!isNaN(u)&&-1!==u?this.setCurFilter(s["lm_"+u],l,o):this.setDefault(l,o)},setCurFilter:function(t,e,s){var r=this.curFilter;r!=t&&(r&&i(r).removeClass("selected"),t&&(i(this.container).removeClass("filter-hover"),this.curFilter=r=t,i(r).addClass("selected"),this.currentStateCon.innerHTML=t.getAttribute("data-text"),r.getAttribute("val")&&"null"!=r.getAttribute("val")&&s&&this.setURI(r.getAttribute("par"),r.getAttribute("val"),e)))},ini:function(){this.container=document.getElementById("typeFilter"),this.showFilter()},setOverClass:function(t){i(t).addClass("hover")},setOutClass:function(t){i(t).removeClass("hover")},setURI:function(t,e,s){s=s||"";var i={st:-1,face:0,s:0,pn:s,lm:"-1"};i[t]=e,a.resetHashConf(i,["cl","ct","width","height"])},setDefault:function(t,e){i(this.container).removeClass("filter-on"),this.setCurFilter(this.filterList[this.options.defaultValue],t,e)},render:function(t){var e={isModifyHash:!1},s={},i=t.currFilterConf;s.s=i.s,s.face=i.face,s.st=i.st,s.pn=t.currPn,s.lm=i.lm,this.setInitValue(s,e)}})});
;define("searchresult:widget/ui/view/StyleFilterViewTop/StyleFilterViewTop.js",function(t,e,i){BD=window.BD||{},BD.IMG=BD.IMG||{};var s=t("common:widget/ui/jquery/jquery.js"),r=t("searchresult:widget/ui/view/ViewClass/ViewClass.js"),l=t("searchresult:widget/ui/base/ParamsBus/ParamsBus.js"),a=t("searchresult:widget/ui/base/utils/utils.js"),n=t("searchresult:widget/ui/base/statistic/statistic.js");BD.IMG.StyleFilterView=i.exports=function(t){this.defaultOpts={STYLE_HTMLSTR:'<li val={{=it.value}} data-text="{{=it.text}}" par="{{=it.par}}" isD={{=it.isD}}>{{=it.text}}</li>',defaultValue:"lm_-1",data:[{value:"-1",text:"全部格式",par:"lm"},{value:"6",text:"动态图片",par:"lm"},{value:"7",text:"静态图片",par:"lm"}]},this.container=null,this.filterList=[],this.curFilter=null,this.options=s.extend({},this.defaultOpts,t||{})},s.inherits(BD.IMG.StyleFilterView,r),s.extend(BD.IMG.StyleFilterView.prototype,{showFilter:function(){var t=this.options.data,e=0,i=t.length,r=this;this.currentStateCon=a.str2dom('<div class="filter-menu-item">全部格式</div>'),this.container.appendChild(this.currentStateCon);var l=a.str2dom('<span class="menu-con-arrow"></span>');this.container.appendChild(l);var u=document.createElement("ul");u.className="filter-item-con";for(var o=doT.compile(this.options.STYLE_HTMLSTR);i>e;e++){var h,c=t[e];h=a.str2dom(o(t[e])),h.onclick=function(t){if(s(this).hasClass("selected"))return!1;var e=r.getCurrentFilterNum();"-1"!==this.getAttribute("val")?s(r.container).hasClass("filter-on")||e++:e--,n(t,25,{fb:this.getAttribute("par")+"_"+this.getAttribute("val"),currf:"style",onnum:e}),r.setCurFilter(this,"",!0)},h.onmouseover=function(){this!=r.curFilter&&r.setOverClass(this)},h.onmouseout=function(){r.setOutClass(this)},"-1"===c.value&&s(h).addClass("list-first-item"),this.filterList[t[e].par+"_"+t[e].value]=h,u.appendChild(h)}this.container.appendChild(u)},setInitValue:function(t,e){var i=this.filterList,r=parseInt(t.lm),l=t.pn,a=e?e.isModifyHash:!0;r&&!isNaN(r)&&-1!==r?(s(this.container).addClass("filter-on"),this.setCurFilter(i["lm_"+r],l,a)):this.setDefault(l,a)},setCurFilter:function(t,e,i){var r=this.curFilter;r!=t&&(r&&s(r).removeClass("selected"),t&&(s(this.container).removeClass("filter-hover"),this.curFilter=r=t,s(r).addClass("selected"),this.currentStateCon.innerHTML=t.getAttribute("data-text"),r.getAttribute("val")&&"null"!=r.getAttribute("val")&&i&&this.setURI(r.getAttribute("par"),r.getAttribute("val"),e)))},ini:function(){this.container=document.getElementById("styleFilter"),this.showFilter()},setOverClass:function(t){s(t).addClass("hover")},setOutClass:function(t){s(t).removeClass("hover")},setURI:function(t,e,i){i=i||"";var s={lm:-1,pn:i};s[t]=e,l.resetHashConf(s,["cl","ct"])},setDefault:function(t,e){s(this.container).removeClass("filter-on"),this.setCurFilter(this.filterList[this.options.defaultValue],t,e)},render:function(t){var e={isModifyHash:!1},i={},s=t.currFilterConf;i.lm=s.lm,i.pn=t.currPn,this.setInitValue(i,e)}})});
;define("searchresult:widget/adsearch/init.js",function(t,a,i){var e=(t("searchresult:widget/ui/base/ParamsBus/ParamsBus.js"),t("common:widget/ui/jquery/jquery.js")),s=(t("searchresult:widget/ui/base/statistic/statistic.js"),i.exports=function(){this.pull=e("#adsearch"),this.lualu=e("#lualu"),this.TPL_TABLE='<table width="100%" align="center" cellpadding="0" cellspacing="0"><tr><th valign="top" align="left"><div class="title">相关推广</div></th><td valign="center" id="rsAd"><table cellpadding="0" cellspacing="0"><tbody><tr>{{for(var i=0;i<5;i++){}}<td nowrap="nowrap">{{if(i<it.length){}}<a class="smaitem" target="_blank" href="http://search.baidu.com/s?wd={{=it[i].gbk}}&channel=pic-search&qid='+BD.IMG.tplConf.aspSID+'&sid=&pos=im-{{=i}}&sugCount={{=it.length}}&overscreen=1">{{=it[i].utf8}}{{if(i==0||i==2){}}<span class="sma-hot"></span>{{}}}</a>{{}}}</td>{{}}}</tr></tbody></table></td></tr></table><img src="" id="smaclick">'});e.extend(s.prototype,{ini:function(){var t=this;e.ajax({url:"http://image.baidu.com/sma?q="+BD.IMG.tplConf.queryWordEnc,dataType:"jsonp",jsonp:"jsonpcallback",success:function(a){a&&a.length>0?(t.data=a,t.render(a)):t.renderLualu()}})},getSam:function(t){var a=0;t=t.replace(":FG=1",""),t+=":FG=1";for(var i=0;i<t.length;i++)a=31*a+t.charCodeAt(i),a%=4294967296;var e=a%101;return e},renderLualu:function(){var t=this.getSam(e.cookie("BAIDUID"));t>=0&&29>=t&&this.lualu.show()},render:function(t){var a=this,i=doT.template(this.TPL_TABLE),s=i(t);this.pull.show().append(s),e("#rsAd table tr:first td:not(.s)").each(function(t){var i=e("#rsQuery table tr:first td:not(.s):eq("+t+")").width()+38;i=Math.max(i,150),a.data[t]&&a.data[t].utf8.length>10&&(i=Math.max(i,150)),e(this).width(i)}),e(".smaitem").click(function(){var i=e(this).index(),s="http://sclick.baidu.com/w.gif?q="+t[i].gbk+"&fm=SMA_IM&p1=1&p5=1&title="+t[i].gbk+"&url=http://search.baidu.com/s?wd="+t[i].gbk+"&qid="+BD.IMG.tplConf.aspSID+"&sid=&pos=im-"+i+"&sugCount="+a.data.length+"&overscreen=1&rsv_sid=&"+1e8*Math.random(1e8);e("#smaclick").attr("src",s)})}})});
;define("searchresult:widget/avatarRecommend/init.js",function(t,e,i){var r=t("common:widget/ui/jquery/jquery.js"),a=(t("searchresult:widget/ui/base/statistic/statistic.js"),t("common:widget/ui/EventEmitter/EventEmitter.js").eventCenter),n=t("searchresult:widget/ui/base/ParamsBus/ParamsBus.js"),h=(r.browser.ie&&6==parseInt(r.browser.version),i.exports=function(t){this.data=t.data,r("#avatarRecommend .recbtn").attr("href","/i?ct=201326592&cg=art&cl=2&nc=1&lm=-1&st=-1&tn=baiduimage&istype=2&pv=&z=0&ie=utf-8&word="+encodeURIComponent(BD.IMG.tplConf.queryWord.replace("      ","")))});r.extend(h.prototype,{ini:function(){var t=this;a.on("resize",function(){t.render()}),a.on("strategy",function(e){t.currImgLineWidth!==e.state.currImgLineWidth&&(t.currImgLineWidth=e.state.currImgLineWidth,t.render())}),t.render()},render:function(){var t=this,e=t.currImgLineWidth-7||r("#avrecwrapper").width();t.currImgLineWidth=e+7;var i=0,a=[],h=n.getSearchConfs();for(var c in t.data)if(e>i){var d=t.fix(t.data[c]);i+=d.width,a.push(r.extend(t.data[c],d))}var o=(e-18-18*a.length)/i,s=[];for(var c in a){var m=a[c].tagTwo,u=Math.ceil(o*a[c].width),g=Math.ceil(o*a[c].height);a[c].fromPageTitle&&a[c].fromPageTitle.length>0&&(m=a[c].fromPageTitle),s.push('<div class="item"><a class="" title="'+m+'" onclick="p(event,381);" target="_blank" href="/i?ct=503316480&tn=baiduimagedetail&cg=art&ipn=d'+(h.z?"&z="+h.z:"")+(h.ich?"&ich="+h.ich:"")+(h.rt?"&rt="+h.rt:"")+(h["if"]?"&if="+h["if"]:"")+(h.s?"&s="+h.s:"")+(h.ic?"&ic="+h.ic:"")+(h.lm?"&lm="+h.lm:"")+(h.width?"&width="+h.width:"")+(h.height?"&height="+h.height:"")+"&word="+encodeURIComponent(BD.IMG.tplConf.queryWord.replace("      ",""))+"&ie=utf-8&in=3354&cl=2&st=&pn="+a[c].pageNum+"&rn=1&di="+a[c].di+"&fr=&&fmq=1378374347070_R&se=&sme=0&tab=&face=&&istype=&ist=&jit=&objurl="+encodeURIComponent(a[c].objURL)+'" ><img src="'+(a[c].hoverURL||a[c].objURL)+'" style="width:'+u+"px;height:"+g+'px;"></a></div>')}var f=Math.round(250*o+29);r("#avatarRecommend").height(f+35).width(e),r("#avrecwrapper").height(f).html(s.join(""))},fix:function(t){var e=t.width,i=t.height,r=250,a=e*r/i;return{width:a,height:r}},type:function(t){return 0==t?"":1==t?"JPG":2==t?"PSD":3==t?"EPS":4==t?"CDR":5==t?"AI":6==t?"MAX":7==t?"ABR":8==t?"PAT":9==t?"CSH":10==t?"DWG":11==t?"Flash":12==t?"PNG":13==t?"GIF":14==t?"BMP":void 0}})});
;define("searchresult:widget/backTop/init.js",function(n,i,e){{var o=n("common:widget/ui/jquery/jquery.js"),t=n("common:widget/ui/EventEmitter/EventEmitter.js");e.exports=function(){function n(){if(i=o("#"+e),!(i.length<1)){i.on("click",function(){window.scrollTo(0,0),t.eventCenter.trigger("backTop")});var n=o(window);n.on("scroll",function(){{var e=n.scrollTop();n.height()}e>0?i.show():i.hide()})}}var i,e="backTop";return{ini:n}}()}});
;define("searchresult:widget/bandWidthTest/init.js",function(t,i,e){var o=t("searchresult:widget/ui/base/statistic/statistic.js"),_=e.exports={};_.util={extend:function(t,i){for(var e in i)t[e]=i[e];return t},now:function(){return(new Date).getTime()}},_.util.param=function(t){var i=[],e="";for(var o in t)e="undefined"==typeof t[o]?"":t[o],i.push(o+"="+e);return i.join("&")},_.log={_opt:{log_path:"http://static.tieba.baidu.com/tb/pms/img/st.gif"},_data:{},setOpt:function(t){_.util.extend(this._opt,t)},push:function(t){_.util.extend(this._data,t)},send:function(){var t=document.createElement("img"),i=(new Date).getTime();this._data._t=i,t.src=this._opt.log_path+"?"+_.util.param(this._data),window["___pms_img_"+i]=t,this._data={}}},_.network={_opt:{},test:function(t,i){var e=new _.NetworkTester(t,i);e.run()}},_.NetworkTester=function(t,i){this._END_NUM=5,this._START_NUM=2,this._IMG_OPT={img_1:["1.jpg",0],img_2:["2.gif",0],img_3:["3.gif",0],img_4:["4_m.jpg",19638/1024],img_5:["5_m.jpg",256.65625]},this._timecost={},this._ext_data=i||{},this._img_path=t},_.NetworkTester.prototype.run=function(){this._loadTestImg(this._START_NUM)},_.NetworkTester.prototype._report=function(){var t=this._timecost.t3,i=this._IMG_OPT.img_4[1],e=this._IMG_OPT.img_5[1],n=this._timecost.t4,s=this._timecost.t5,a=0,r=0;n>t&&(a=i/((n-t)/1e3)),r=(e-i)/((s-n)/1e3);var m={rtt:t,bw1:a.toFixed(1),bw2:r.toFixed(1)};m.cus_rtt=m.rtt,m.cus_bw1=m.bw1,m.cus_bw2=m.bw2,_.log.push(this._ext_data),_.log.push(m),_.log.send(),o(null,303,m)},_.NetworkTester.prototype._loadTestImg=function(t){var i=document.createElement("img"),e=this,o=(new Date).getTime(),_=""+this._img_path+this._IMG_OPT["img_"+t][0]+"?t="+o+"&index="+t;i.onload=function(){var i=(new Date).getTime();e._timecost["t"+t]=i-o;var _=t+1;_<=e._END_NUM?e._loadTestImg(_):e._report()},i.src=_,window["___pms_img_net_"+o]=i},_.doNetTest=function(t){var i=t,e=Math.random(),o=i.domains.length,n=i.sample,s={product_id:i.product_id,page_id:i.page_id,domain:""},a="",r=i.delay;if(n>e){var m=Math.floor(e/(n/o));if(o>m){var d=i.domains[m];a=d.img_path,s.domain=d.domain}""!=a&&setTimeout(function(){_.network.test(a,s)},r)}}});
;define("searchresult:widget/ecom199/init.js",function(e,i,t){var n=window.BD||{};n.IMG=n.IMG||{};var s=e("common:widget/ui/jquery/jquery.js"),r=e("searchresult:widget/ui/view/ViewClass/ViewClass.js");n.IMG.ecom199=t.exports=function(e){this.defaultOpts={},this.container=null,this.options=s.extend(this.defaultOpts,e||{})},s.inherits(n.IMG.ecom199,r),s.extend(n.IMG.ecom199.prototype,{ini:function(e){this.container=s("#"+(e||"relecom199"))[0]},render:function(e){if("resize"==e.type)return!1;var i=e.currPage;this.container.style.display=1!=i&&this.container?"none":""}})});
;define("searchresult:widget/fcAd/fcAd.js",function(t){var i=t("common:widget/ui/jquery/jquery.js"),e=t("searchresult:widget/ui/base/statistic/statistic.js"),a=t("searchresult:widget/ui/base/ParamsBus/ParamsBus.js"),s=t("searchresult:widget/ui/strategy/singleton/FilterStrategy/FilterStrategy.js"),n={IMG_FCAD_TPL:['<li class="fcImgli" {{=it.liStyle}}><a class="fc-link" target="_blank" href="{{=it.fromURL}}" data-fcpos="{{=it.fcPos}}">','<div class="fc-img">','<img src="{{=it.thumbURL}}" {{=it.imgStyle}} >',"</div>",'<div class="fc-bg"></div>','<div class="fc-img-bt">','<span class="fc-tg-icon">推广</span>','<div class="fc-bt-right" style="width:{{=it.btTitWidth}}px" >{{=it.fromPageTitle}}</div>',"</div>",'<div class="fc-info">','<div class="fc-info-tit" style="width:{{=it.infoTitWidth}}px">','<span class="fc-tg-icon">推广</span>','<span class="fc-tit-txt" hoverCls="fc-tit-hover"  >{{=it.titText}}</span>',"</div>",'<span class="fc-info-abs" hoverCls="fc-abs-hover">{{=it.absText}}</span>','<span class="fc-info-host" hoverCls="fc-host-hover">{{=it.fromURLHostName}}</span>',"</div>","</a></li>"].join(""),hoverCls:"fc-info-hover",ini:function(){this.inited||(this.inited=!0,this.imgTpl=doT.compile(this.IMG_FCAD_TPL),this.minLineH=190,this.bindEvent(),this.data=window.imgTempData||{},this.btAdDatas=this.data.fcBtData,this.btAdDatasLen=this.data.fcBtData?this.data.fcBtData.length:0,e&&e(null,500,{fm:a.getSearchConfItem("fm"),adtype:"searchPv",btAdLen:this.btAdDatasLen}),this.fcAdDatasLen=this.data.fcData?this.data.fcData.length:0,this.fcAdDatasLen>0&&(e&&e(null,1101001,{adtype:this.data.adType}),e&&e(null,1101002,{adtype:this.data.adType,picnum:this.fcAdDatasLen,pos:70010})))},getSubStr:function(t,i,e){if(!t)return t;var a=10,s=Math.floor(i/e);return s=Math.max(s,a),t.length-s<4?t:t.substring(0,s)+"..."},subHost:function(t,i){if(!t)return"";var e="";return t.length>i&&(e="…"),t.substr(0,i)+e},getItemHTML:function(t){if(!this.inited&&this.ini(),!t||"FCAD"!==t.type)return"";var i=parseInt(t.liWidth),e=parseInt(t.liHeight),a=this.zoom(t.iwidth,t.iheight,i,e);return t.titText=this.getSubStr(t.fromPageTitle,2*i-40,16),t.absText=this.getSubStr(t.fromPageAbs,2*i-24,13),t.fromURLHostName=t.fromURLHost?t.fromURLHost.replace(/^http[s]?:\/\/([^/?=]+).*/,"$1"):"",t.fromURLHostName=this.subHost(t.fromURLHostName,18),t.btTitWidth=i-62,t.infoTitWidth=i-24,t.liStyle="style='position:absolute;top:"+t.top+"px;left:"+t.left+"px;width:"+i+"px;height:"+e+"px;'",t.imgStyle="style='width:"+parseInt(a.width)+"px;height:"+parseInt(a.height)+"px;margin-left:"+a.marginLeft+"px;margin-top:"+a.marginTop+"px;'",this.bindEcomTimer&&clearTimeout(this.bindEcomTimer),this.bindEcomTimer=setTimeout(function(){var t=window.ecom&&window.ecom.pl&&window.ecom.pl.run;t&&window.ecom.pl.run(function(t){for(var i=t.q("fcImgli"),e=0;e<i.length;e++){var a=i[e],s=a.getElementsByTagName("A");t.ck(s,window.ecom.pl.imTimesign)}},!1)},500),this.imgTpl(t)},bindEvent:function(){var t=this;i("body").delegate(".fc-info-abs,.fc-info-host,.fc-tit-txt","mouseenter",function(){var t=i(this).attr("hoverCls");t&&i(this).addClass(t)}).delegate(".fc-info-abs,.fc-info-host,.fc-tit-txt","mouseleave",function(){var t=i(this).attr("hoverCls");t&&i(this).removeClass(t)}).delegate(".fc-link","click",function(a){var s;i(a.target)&&i(a.target).parents(".fc-link")&&(s=i(a.target).parents(".fc-link").attr("data-fcpos")),e&&e(null,1101101,{adtype:t.data.adType,index:0,pos:70010,fcpos:s})}),i("body").delegate("#pageMore","click",function(){p(null,499,{domid:"pageMore",type:"click"})}),setTimeout(function(){t.initLog("pageMore"),t.initLog("adsearch"),t.initLog("relecom54")},500)},updatLog:function(t,e,a){t.offset().top-i(window).scrollTop()-i(window).height()<0?(1!=t.attr("showLog-disp")&&"hidden"!=t.attr("visibility")&&p(null,499,{domid:e,logId:a,type:"showPv"}),t.attr("showLog-disp",1)):t.attr("showLog-disp",0)},initLog:function(t){var e=i("#"+t),a=this,s=t+(new Date).getTime();if(e.length){var n=e.html()||"";n=i.trim(n),n&&(this.updatLog(e,t,s),i(window).scroll(function(){a.updatLog(e,t,s)}))}},getAdWidth:function(t,i){for(var e=0,a=0;a<i.length;a++)e+=i[a].iwidth*t/i[a].iheight+5;return e},insertBtAdModel:function(t,i){if(!this.btAdDatas||!this.btAdDatas.length)return i;if(t.isDefaultFilter&&t.currMaxPage==t.cachePage){this.lastModel=i[i.length-1],this.lastLineH=i.pageHeight-this.lastModel.top-this.lastModel.liHeight-10,this.lastLine=this.lastLineH>150?this.addAdData(t,i):this.replaceAdData(t,i);for(var e=0;e<this.lastLine.length;e++)i[i.length]=this.lastLine[e];this.lastLine.newLineH}return i},updataLineConf:function(t,i,e,a){if(t=t||{},e%10==0&&a==i.pageLineNum-1&&this.btAdDatas&&this.btAdDatas.length){var n=s.calc();if(n.isDefaultFilter){var h=this.getAdWidth(i.lineHeight,this.btAdDatas);t.right=h+150,t.isFCAD=!0,t.lineHeight=t.right>=i.lineWidth?this.getNewLineHeight(this.btAdDatas,i.lineWidth,i.lineHeight):240}}},addAdData:function(t){var i=this.lastLineH,e=t.currImgLineWidth,a=[];return a=a.concat(this.btAdDatas),this.adWidth=this.getAdWidth(i,this.btAdDatas),this.updataLine(a,e,i,this.adWidth,this.lastModel.top+this.lastModel.liHeight+5),a},replaceAdData:function(t,i){var e,a,s=this.lastModel.baseLineH,n=t.currImgLineWidth,h=[];this.adWidth=this.getAdWidth(s,this.btAdDatas);for(var o=i.length-1;o>0&&(e=i[o],a=i[o-1],h.unshift(i.pop()),e.top==a.top);o--);return h=h.concat(this.btAdDatas),this.updataLine(h,n,s,this.lastModel.left+this.lastModel.liWidth+this.adWidth,this.lastModel.top),h},getNewLineHeight:function(t,i,e){for(var a=0,s=5,n=e,h=0;h<t.length;h++)a+=t[h].iwidth/t[h].iheight;return a>0&&(n=Math.floor((i-t.length*s)/a)),n=Math.min(e-s,n),n=Math.max(this.minLineH,n)},getNewLineWidth:function(t,i){for(var e=5,a=0,s=0;s<t.length;s++)a+=i*t[s].iwidth/t[s].iheight+e;return Math.floor(a)},updataLine:function(t,i,e,a,s){var n,h,o,d,l=0,r=5;o=this.getNewLineHeight(t,i,e),d=this.getNewLineWidth(t,e),t.newLineH=o,h=(i-d)/t.length;for(var f=0;f<t.length;f++)n=t[f],n.offset=n.offset||{},n.left=l,n.top=s,n.lineH=o,n.liHeight=o,n.liWidth=Math.floor(o*n.iwidth/n.iheight+h),f==t.length-1&&(n.liWidth=i-r-l),n.offset=this.zoom(n.iwidth,n.iheight,n.liWidth,n.liHeight),n.iheight<n.liHeight&&this.fixedSmallImg(n),l+=n.liWidth+r},fixedSmallImg:function(t){var i=t.liHeight+10,e=t.iheight,a=t.iwidth;t.iwidth=i*a/e,t.iheight=i},zoom:function(t,i,e,a){var s,n,h=0,o=0,d=e,l=a;return t/i>d/l?(n=l,s=l*t/i):(n=d*i/t,s=d),o=(d-s)/2,h=(l-n)/5,s=Math.round(s),n=Math.round(n),h=Math.round(h),o=Math.round(o),h>0&&(h=0),{width:s,height:n,marginLeft:o,marginTop:h}}};return i(function(){n.ini()}),window.fcAd=n,n});
;define("searchresult:widget/filtertop/init.js",function(e,i,r){var t=window.BD||{};t.IMG=t.IMG||{};var l=(e("searchresult:widget/ui/base/ParamsBus/ParamsBus.js"),e("searchresult:widget/ui/view/FilterViewTop/FilterViewTop.js")),s=e("searchresult:widget/ui/control/FilterController/FilterController.js"),o=e("searchresult:widget/ui/control/FilterWidthController/FilterWidthController.js"),w=e("searchresult:widget/ui/view/SizeFilterViewTop/SizeFilterViewTop.js"),n=e("searchresult:widget/ui/view/ColorFilterViewTop/ColorFilterViewTop.js"),a=e("searchresult:widget/ui/view/TypeFilterViewTop/TypeFilterViewTop.js");r.exports.ini=function(){var e=new l,i=new a,r=new n,t=new w;i.ini(),r.ini(),t.ini(),e.ini();var u=s.singleton;u.addViews(i,r,t);var d=o.singleton;d.addViews(e)}});
;define("searchresult:widget/imgFilter/init.js",function(e,t){var i=e("common:widget/ui/jquery/jquery.js"),s=e("searchresult:widget/ui/base/ParamsBus/ParamsBus.js"),r=e("searchresult:widget/ui/base/statistic/statistic.js");t.ini=function(){var e=!1,t="filter";i("#imgfilter-btn").click(function(){e=!e,t=e?"filter-close":"filter-open",i("#imgfilter-btn").removeClass("filter-close filter-open").addClass(t);var l=[];e?(i("#filter-holder").show(),i(".imgfilter-text").text("取消筛选"),r(null,503,{s:"open",p:"503"})):(i("#filter-holder").hide(),i(".imgfilter-text").text("图片筛选"),l=l.concat(["z","s","ic","width","height","st","face","lm"]),s.resetHashConf({},l),r(null,503,{s:"close",p:"503"}))})}});
;define("searchresult:widget/newyear_2015/share.js",function(e){var r=e("common:widget/ui/jquery/jquery.js"),s={shareCtrl:".share-btn",shareSite:".wrapper-share",shareBtns:".share-to-site",init:function(e){var s=this;s.shareWinTop=window.screen.height/2-250,s.shareWinLeft=window.screen.width/2-300,s.shareData=e,s.bindShareEvents(),r.browser.msie&&r.browser.version<10?(r(".wrapper-share .share-to-weibo").css("left","0px"),r(".wrapper-share .share-to-qqzone").css("left","40px"),r(".wrapper-share .share-to-renren").css("left","80px"),r(".wrapper-share .share-to-douban").css("left","120px")):(r(".wrapper-share .share-to-weibo").css("left","-30px"),r(".wrapper-share .share-to-qqzone").css("left","-30px"),r(".wrapper-share .share-to-renren").css("left","-30px"),r(".wrapper-share .share-to-douban").css("left","-30px"))},bindShareEvents:function(){var e=this,s=r(e.shareCtrl),t=r(e.shareSite);s.hover(function(){t.show()},function(){t.hide()}),r(e.shareBtns).click(function(){var s=r(this),t=s.attr("act-type");e.shareOpen(t,e.shareData.title,e.shareData.content,e.shareData.fromUrl,e.shareData.picSrc)})},shareOpen:function(e,r,s,t,a){var n=this;r=encodeURIComponent(r),s=encodeURIComponent(s),t=encodeURIComponent(t),a=encodeURIComponent(a);var o={weibo:"http://service.weibo.com/share/share.php",qqzone:"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey",renren:"http://widget.renren.com/dialog/share",douban:"http://www.douban.com/share/service"},h={weibo:"pic="+a+"&title="+s.replace(/&nbsp;/g," ").replace(/<br \/>/g," ")+"&url="+t+"&appkey=1343713053&searchPic=true",qqzone:"title="+r+"&site=&url="+t+"&summary="+s+"&pics="+a,renren:"title="+r+"&srcUrl="+t+"&title=&description="+s+"&resourceUrl="+a,douban:"name="+r+"&image="+a+"&text="+s+"&href="+t},i=o[e]+"?"+h[e];window.open(i,"_blank","scrollbars=no,width=600,height=500,left="+n.shareWinLeft+",top="+n.shareWinTop+",status=no,resizable=yes")}};return s});
;define("searchresult:widget/newyear_2015/try.js",function(n){var t=n("common:widget/ui/jquery/jquery.js"),c={tryCtrl:".qrcode-wrapper",tryBtn:".bottom .try",closeBtn:".qrcode .close",init:function(){var n=this;n.bindShareEvents()},bindShareEvents:function(){var n=this,c=t(n.tryCtrl),i=t(n.tryBtn),e=t(n.closeBtn);i.click(function(){c.css({display:"block"})}),c.click(function(){c.css("display","none")}),e.click(function(){c.css("display","none")}),c.click(function(){c.css("display","none")})}};return c});
;define("searchresult:widget/newyear_2015/init.js",function(t,e,i){{var a=t("common:widget/ui/jquery/jquery.js"),r=t("searchresult:widget/ui/base/utils/imghelper.js"),s=t("searchresult:widget/newyear_2015/share.js"),c=t("searchresult:widget/newyear_2015/try.js");i.exports={init:function(){var t=this,e=["http://img1.bdstatic.com/static/searchresult/widget/newyear_2015/img/bg_d3acc63.jpg","http://img1.bdstatic.com/static/searchresult/widget/newyear_2015/img/bodybg_40793db.jpg","http://img1.bdstatic.com/static/searchresult/widget/newyear_2015/img/top_7b84113.png","http://img1.bdstatic.com/static/searchresult/widget/newyear_2015/img/middle_d165d3a.png","http://img1.bdstatic.com/static/searchresult/widget/newyear_2015/img/bottom_f1ad32b.png","http://img1.bdstatic.com/static/searchresult/widget/newyear_2015/img/cardimg/bp_781cdbf.png","http://img2.bdstatic.com/static/searchresult/widget/newyear_2015/img/cardimg/xx_20b2f67.png","http://img2.bdstatic.com/static/searchresult/widget/newyear_2015/img/word_b8e2cf3.png","http://img1.bdstatic.com/static/searchresult/widget/newyear_2015/img/2015_1b0e20b.png","http://img0.bdstatic.com/static/searchresult/widget/newyear_2015/img/btn_24_0dede0e.png","http://img1.bdstatic.com/static/searchresult/widget/newyear_2015/img/tip_24_dbef40f.png","http://img1.bdstatic.com/static/searchresult/widget/newyear_2015/img/qrcode_24_6b9b237.png","http://img0.bdstatic.com/static/searchresult/widget/newyear_2015/img/shadow_7644d8e.png","http://img1.bdstatic.com/static/searchresult/widget/newyear_2015/img/share_24_7d18568.png","http://img2.bdstatic.com/static/searchresult/widget/newyear_2015/img/sheep1_24_4e6c7c3.png","http://img1.bdstatic.com/static/searchresult/widget/newyear_2015/img/sheep2_24_2e0403f.png","http://img2.bdstatic.com/static/searchresult/widget/newyear_2015/img/xk_fab7102.png","http://img0.bdstatic.com/static/searchresult/widget/newyear_2015/img/xkyy_7bde8b5.png","http://img2.bdstatic.com/static/searchresult/widget/newyear_2015/img/xkyy2_a05af7d.png"],i=0;r.loadImage(e,function(){i++,i==e.length&&(t.resize(),t.animate())});var g="我刚刚定制了可能是2015年春节最有心意的贺卡！我的贺卡最有创意，你敢来比比么！更有专属贺卡搜索码和惊喜豪礼等你来抢！就是这么任性！",n="可能是2015年春节最有心意的贺卡！",d={title:n,content:g,fromUrl:location.href,picSrc:a(".share-btn>img")[0].src};s.init(d),c.init()},animate:function(){if(!a.browser.msie||a.browser.msie&&parseInt(a.browser.version,10)>9)a(".newyear-wrapper").addClass("css3Support"),setTimeout(function(){a(".newyear-card, #photo-wrapper").css({opacity:1}),a(".card, .sub").css({"-moz-transform":"rotateX(0deg)","-webkit-transform":"rotateX(0deg)","-0-transform":"rotateX(0deg)",transform:"rotateX(0deg)"})},500),setTimeout(function(){a(".card .shadow").fadeIn()},1500),setTimeout(function(){a(".left, .right").addClass("ani"),a("#top>.top-img").addClass("show"),a("#bear,.word,#bp").addClass("show")},1e3),setTimeout(function(){a(".year").addClass("show")},3e3),setTimeout(function(){a(".bottom").css("opacity",1)},4e3);else{if(a(".newyear-wrapper").removeClass("css3Support"),parseInt(a.browser.version,10)<8)var t=a(".newyear-wrapper").height()-a(".newyear-card").height()>0?(a(".newyear-wrapper").height()-a(".newyear-card").height())/2:0;else var t=0;a(".newyear-card").css({marginTop:t+"px",overflow:"visible"})}},resize:function(){var t=a(".newyear-wrapper");t.css({height:Math.max(parseInt(a(window).height())-a("#search").height()-1,588)}),t.height()<790&&(t.addClass("mini-card"),a(".qrcode-wrapper").addClass("mini-card"));var e=a(".newyear-wrapper .newyear-card-wrapper"),i=e.find("#top"),r=i.find(".top-img");r.height()<r.find("img").height()&&r.find("img").css("marginTop",(r.height()-r.find("img").height())/2)}}}});
;define("searchresult:widget/pageRecommend/init.js",function(e,t,n){var a=e("common:widget/ui/jquery/jquery.js"),d=e("searchresult:widget/ui/base/statistic/statistic.js"),i=a.browser.ie&&6==parseInt(a.browser.version),o=n.exports=function(){var e,t,n,c,m,r,l,s=BD.IMG.tplConf.recommendPage,g=BD.IMG.tplConf.recommendHeight,p=this;c=BD.IMG.tplConf.queryWord.replace("      ",""),window.fixRecIn=function(e){var t=e.width,n=e.height,a=83,d=n*a/t;83>d&&(d=83,a=t*d/n),e.width=a,e.height=d,e.style.left=-(a-83)/2+"px"},a.extend(o.prototype,{ini:function(i){if(i==s+1){d(null,62,{type:0}),r=0,e=document.getElementById("imgPage"+i);var o=1*e.style.top.replace("px","")-g+18;document.getElementById("pageRecommend")||a(e).before('<div id="pageRecommend" class="pageRecommend" ><div class="border"><div class="box"><div class="topline"><div class="title"></div><a id="recommendBtn" href="javascript:void(0);" class="more">换一换</a></div><div id="recommendContent" class="content"></div></div></div></div>'),t=document.getElementById("pageRecommend"),n=document.getElementById("recommendContent"),t.style.top=o+"px",this.render(),a("#recommendBtn").on("click",function(e){d(e,60,{type:"next"}),p.change()})}},render:function(){var e=n.clientWidth-36;i&&(e-=3,n.style.width=e+"px"),m=Math.round(e/107),document.getElementById("recommendBtn").style.display=recommendData.length<m?"none":"block",l=Math.floor(e/m-83);for(var t=r+m,d="",o=!1,c=r;c<Math.min(t,recommendData.length);c++){recommendData[c].tag&&recommendData[c].tag.length>0&&(o=!0);var s=recommendData[c].flag&&recommendData[c].flag.length>0?recommendData[c].flag:recommendData[c].query,g="/i?ct=201326592&fm=rec&fmtype=in&cl=2&nc=1&lm=-1&st=-1&tn=baiduimage&istype=2&pv=&z=0&ie=utf-8&word="+encodeURIComponent(s);d+='<div class="ele" style="margin-right:'+l+'px;"><div class="imgdiv"><a target="_blank" href="'+g+'" onclick="p(event,60,{type:\'href\',g:0});" ><img src="'+recommendData[c].url+'" onload="fixRecIn(this);" /></a></div><a target="_blank" href="'+g+'"  class="title" onclick="p(event,60,{type:\'href\',g:1});">'+recommendData[c].query+"</a>"+(recommendData[c].tag&&recommendData[c].tag.length>0?'<span class="tag">'+recommendData[c].tag+"</span>":"")+"</div>",r=c}n.innerHTML=d,o&&a("#recommendContent").addClass("contentWithTag")},change:function(){r<recommendData.length-1?r++:r=0,p.render()}})}});
;define("searchresult:widget/pullEcom199/nikeFlash.js",function(){});
;define("searchresult:widget/pullSearchBox/init.js",function(e,t,n){{var o=e("common:widget/ui/jquery/jquery.js"),r=e("common:widget/ui/EventEmitter/EventEmitter.js"),l=e("searchresult:widget/ui/base/Fx/Fx.js");e("searchresult:widget/ui/base/statistic/statistic.js")}n.exports=function(){function e(e,t){var n,o=0,r=e.length,l=[];a=document.getElementById(g),i=document.getElementById("pullSearchForm");var s=BD.IMG.tplConf.queryWordEnc||"";if(!a)return void(a=!1);if(a&&r>=1){for(l.push('<em class="pull-rs-title">相关搜索：</em>'),"undefined"!=typeof t&&"undefined"!=typeof t.flag&&"undefined"!=typeof t.query&&"undefined"!=typeof t.url&&"1"==t.flag&&t.query&&t.url&&l.push("<a class=\"pull-rs-Com\" target=\"_blank\" onmousedown=\"p(event,202,{event:'click',type:'rsCom',position:'pullSearchBox',url:'"+t.url+'\'})"  href="'+t.url+'">'+t.nodomxssquery+"</a>");r>o;o++)n=e[o],l.push('<a class="pull-rs" target="_self" onmousedown="p(event,10,{ps:\'h\',tp:\'a\',r:'+o+", rq:'"+encodeURIComponent(n[0])+'\'})" href="/i?ct=201326592&cl=2&lm=-1&nc=1&ie=utf-8&tn=baiduimage&pv=&fm=rs'+(o+1)+"&ofr="+s+"&word="+encodeURIComponent(n[0])+'">'+n[2]+"</a>");v=!0}v?a.innerHTML=l.join(""):a.style.display="none"}function t(){if(a&&!C&&v){w=a.offsetHeight;var e={elem:a,delay:25,loops:30,onfinish:function(){C=!0,o(i).removeClass("with-bg"),a.style.display="block"},props:[{name:"marginTop",from:-(w+x),to:x,get:function(){return parseFloat(a.style.marginTop)},set:function(e){a.style.marginTop=e+"px"}}]};f?f.reset(e):f=new l(e),f.start(),o(i).removeClass("with-bg"),a.style.display="block"}}function n(){f&&f.end(),a&&C&&v&&(w=a.offsetHeight,10>w||(C=!1,a.style.marginTop=-w+"px",o(i).addClass("with-bg"),a.style.display="none"))}function s(l,s){if(m=document.getElementById(y),u=document.getElementById("stcontent"),d=u.parentNode,p=document.getElementById("kw"),c=document.getElementById("kw3"),m){h=I.scrollTop(),l&&e(l,s);var i=!1;if(o.browser.ie&&6==parseInt(o.browser.version)){var a=I.width();a=Math.max(a,b)-41,m.style.width=a+"px",i=!0}var f,g=document.getElementById("topRS");f=g?o(g).offset().top:0,I.on("scroll",function(){var e=I.scrollTop();e>135?(p&&c&&c.currentTopValue!==p.value&&(c.currentTopValue=c.value=p.value),u&&m.appendChild(u),m.style.display="block",h>e&&e>f+35&&!window.BD.IMG.autoScroll?t():(e>h||f+35>=e)&&n(),r.eventCenter.trigger("search-box-switch",{state:"fixed"})):(n(),m.style.display="none",u&&d.appendChild(u),p&&c&&(c.currentTopValue=p.value=c.value),r.eventCenter.trigger("search-box-switch",{state:"top"})),h=e,i&&r.eventCenter.on("resize",function(e){var t=Math.max(b,e.viewWidth)-41;m.style.width=t+"px"}),BD.IMG.autoScroll=!1})}}var i,a,u,d,p,c,f,m,y="pullSearch",g="pullRS",h=0,v=!1,w=0,x=6,b=1e3,C=!0,I=o(window);return{ini:s}}()});
;define("searchresult:widget/relsearch/init.js",function(e,t,n){{var r=e("searchresult:widget/ui/base/ParamsBus/ParamsBus.js"),l=e("searchresult:widget/ui/base/statistic/statistic.js");n.exports=function(e,t){var n,s=BD.IMG.tplConf.queryWordEnc||"";if("undefined"==typeof e||!(n=e.length))return!1;for(var o="",a=e.length-1;a>=0;a--)o+=encodeURIComponent(e[a][0]),0!=a&&(o+="$");l(null,502,{oriquery:s,rstr:o});var i="",d=document.getElementById("rsQuery");if("undefined"!=typeof rst&&(i="&rst="+rst),n>0){document.getElementById("relsearch").style.display="";var g=[];g[g.length]='<table cellpadding="0" cellspacing="0" ><tr>';for(var a=0,p=n-1;p>=a;a++)g[g.length]='<td nowrap="nowrap">',g[g.length]='<a href="/i?ct=201326592&cl=2&ie=utf-8&lm=-1&nc=1&ipn=r&tn=baiduimage'+r.getTplConfItem("frStr")+"&pv=&word=",g[g.length]=encodeURIComponent(e[a][0]),g[g.length]="&ofr="+s,g[g.length]="&istype=2&z=0&fm=rs",g[g.length]=a+1,g[g.length]=i,g[g.length]="\"  onmousedown=\"p(event,10,{ps:'b',tp:'a',r:'",g[g.length]=a,g[g.length]="',pagepos:'",g[g.length]=t||"unknown",g[g.length]="',rq:'",g[g.length]=encodeURIComponent(e[a][0]),g[g.length]="'});\" >",g[g.length]=e[a][2],g[g.length]='</a></td><td class="s">&nbsp;</td>',4==a&&(g[g.length]="</tr><tr>");5>=n&&(g[g.length]="</tr><tr><td>&nbsp;</td>"),g[g.length]="</tr></table>",d.innerHTML=g.join("")}}}"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),document.getElementById("relsearch-p").innerHTML='<a class="relsearch-a" onclick="p(null,497,{});" href="http://www.baidu.com/s?wd='+encodeURIComponent(BD.IMG.tplConf.queryWord.trim())+'&tn=SE_hldp01300_ap2duck7&ie=utf-8" target="_blank">去网页搜索: <em class="relsearch-em">'+BD.IMG.tplConf.queryWord.trim()+"</em></a>"});
;define("searchresult:widget/seResult/init.js",function(e,t,s){var n=window.BD||{};n.IMG=n.IMG||{};var i=e("common:widget/ui/jquery/jquery.js"),o=e("searchresult:widget/ui/view/ViewClass/ViewClass.js");n.IMG.seResult=s.exports=function(e){this.defaultOpts={baseSEURL:""},this.container=null,this.options=i.extend(!0,{},this.defaultOpts,e||{})},i.inherits(n.IMG.seResult,o),i.extend(n.IMG.seResult.prototype,{ini:function(e,t,s,n,i){this.container=document.getElementById(e);for(var o=" <strong>您要找的是不是: ",r=this.options.baseSEURL,a=0;a<t.length;a++){var u="word="+encodeURIComponent(t[a].query)+"&ie=utf-8&istype=2&fm=se"+a;o+='<a href="'+r+u+'">'+t[a].nodomxssquery+"</a>&nbsp;&nbsp;"}if(o+="</strong>","1"==i){o+="<span class='strictFilter'>我只需要&nbsp;";for(var c=document.forms.f1,h=document.getElementsByTagName("input"),l=0,a=0,d=h.length;d>a;a++)if("s"==h[a].name&&1==h[a].checked){l=h[a].value;break}var p="word="+s+"&istype=2&se=0&ic="+c.ic.value+"&z="+c.z.value+"&s="+l;o+="<strong><a href='"+r+p+"'>"+n+"</a></strong>",o+="&nbsp;相关图片</span>"}this.container.innerHTML=o},render:function(e){"ini"==e.type?this.showSE():"pageTurn"==e.type&&this.hideSE()},showSE:function(){this.container&&(this.container.style.display="")},hideSE:function(){this.container&&(this.container.style.display="none")}})});
;define("searchresult:widget/searchBox/init.js",function(){});
;define("searchresult:widget/searchBoxFoot/init.js",function(){});
;define("searchresult:widget/shitu/init.js",function(e,t,n){var i,s=e("common:widget/ui/swf/swf.js"),o=n.exports=function(){this.point=document.getElementById("point"),this.content=document.getElementById("stsug"),this.submitobj=document.getElementById("sbobj"),this.form=document.getElementById("form1"),this.form2=document.getElementById("form2"),this.file=document.getElementById("stfile"),this.url=document.getElementById("stuurl"),this.entry=document.getElementById("sttb"),this.close=document.getElementById("closest"),this.tips=document.getElementById("stmore"),this.hpobj=document.getElementById("hp"),this.sthp=document.getElementById("sthelp"),this.draghp=document.getElementById("dragtip"),this.kw=document.getElementById("kw"),this.dragts=document.getElementById("dragtg"),this.clickurl="http://stu.baidu.com",this.onuploadtg=0,this.ftn=document.getElementById("stftn").value||"",this.isDisplay=0,this.isSubmit=0,this.chrome=/chrome\/(\d+\.\d+)/i.test(navigator.userAgent)?+RegExp.$1:void 0,this.isIe=/msie (\d+\.\d+)/i.test(navigator.userAgent)?document.documentMode||+RegExp.$1:void 0,this.isOpera=/opera(\/| )(\d+(\.\d+)?)(.+?(version\/(\d+(\.\d+)?)))?/i.test(navigator.userAgent)?+(RegExp.$6||RegExp.$2):void 0,this.callbacks={aftershow:{},beforehide:{}}};o.prototype={init:function(){var e=this,t=e.addEvent,n=e.content;e.initdisplay(),t(window,"load",function(){e.initdisplay()}),t(document,"click",function(t){e.hiddenContent(t,0),window.setTimeout(function(){e.isDisplay||e.isSubmit||e.closest()},10)}),t(document,"mousemove",function(t){e.hiddenContent(t,1),window.setTimeout(function(){e.isDisplay||e.isSubmit||e.closest()},10)}),t(e.entry,"click",function(){e.isDisplay=1,e.displayst()}),t(e.sthp,"mouseover",function(){e.tips.style.display=""}),t(e.sthp,"mouseout",function(){i=setTimeout(function(){e.tips.style.display="none"},500)}),t(e.tips,"mouseover",function(t){t=window.event||t,e.fixedMouse(t,e.tips)&&i&&clearTimeout(i)}),t(e.tips,"mouseout",function(t){t=window.event||t,e.fixedMouse(t,e.tips)&&(e.tips.style.display="none")}),t(e.file,"change",function(){e.getValue()}),t(e.submitobj,"click",function(t){var n=e.url.value,i=""==n||!e.checkImgType(n),t=window.event||t;i?(alert("您的文件格式不正确或图片网址过长。支持jpg、gif、png、jpeg、bmp格式图片及250个字符内的图片网址。"),this.form.reset()):(e.submitForm(!0,e.form,"urlSearch"),e.point.style.display="block"),document.all?t.returnValue=!1:t.preventDefault()}),t(e.close,"click",function(){return e.isIe?window.document.execCommand("Stop"):window.stop(),e.form.reset(),e.form2.reset(),e.isSubmit=0,e.onuploadtg?(e.draghp.style.display="none",e.point.style.display="none",void(e.onuploadtg=0)):void e.closest()}),!e.isOpera&&window.FileReader&&(t(e.url,"paste",function(t){var n=t.clipboardData||window.clipboardData,i=n.items,s=n.types;i&&i.length&&s&&s.length&&"Files"==s[0]&&e.handlerFiles2(i)}),t(document,"dragenter",function(){e.point.style.display="none",e.displayst(),e.draghp.style.display=""}),t(document,"dragover",function(){e.point.style.display="none",e.displayst(),e.draghp.style.display=""}),t(n,"dragenter",function(e){e.stopPropagation(),e.preventDefault()}),t(n,"dragover",function(e){e.stopPropagation(),e.preventDefault()}),t(n,"drop",function(t){if(t.stopPropagation(),t.preventDefault(),e.isSubmit=1,t.dataTransfer.files.length)try{e.handlerFiles(t.dataTransfer.files)}catch(n){return}else if(t.dataTransfer.types.indexOf&&-1!=t.dataTransfer.types.indexOf("text/html")||t.dataTransfer.types.contains&&-1!=t.dataTransfer.types.contains("text/html")){var i=document.createElement("div");i.innerHTML=t.dataTransfer.getData("text/html");var s=i.getElementsByTagName("img");if(!(s&&s[0]&&s[0].src))return;var o=document.createElement("input");if(o.name="drag",o.value="1",o.type="hidden",e.form.appendChild(o),0==s[0].src.indexOf("data:")){var a=s[0].alt||s[0].title||"";e.submitForm2(s[0].src,a,"image")}else e.url.value=s[0].src,e.submitForm(!0,e.form,"urlSearch")}else{if(!t.dataTransfer.types.indexOf||-1==t.dataTransfer.types.indexOf("text/uri-list"))return;e.url.value=t.dataTransfer.getData("text/uri-list"),e.submitForm(!0,e.form,"urlSearch")}e.point.style.display="block"}))},initdisplay:function(){var e=this;e.entry&&(e.entry.style.display=""),e.dragts&&e.closedg(),e.form&&e.form.reset(),e.point&&(e.point.style.display="none")},closedg:function(){var e=this;(e.isOpera||!window.FileReader)&&this.dragts&&(this.dragts.style.display="none")},hiddenContent:function(e,t){for(var n,e=window.event||e,i=e.srcElement||e.target,s=this;i&&i.getAttribute&&"BODY"!=i.tagName&&"HTML"!=i.tagName&&(n=i.getAttribute("id"),"stcontent"!=n);)i=i.parentNode;return"stcontent"!=n?0==t?void s.closest():void(s.draghp.style.display="none"):void 0},fixedMouse:function(e,t){var n,i=e.type.toLowerCase();if("mouseover"==i)n=e.relatedTarget||e.fromElement;else{if("mouseout"!=i)return!0;n=e.relatedTarget||e.toElement}return n&&"xul"!=n.prefix&&!this.contains(t,n)&&n!==t},contains:function(e,t){return e.contains?e!=t&&e.contains(t):!!(16&e.compareDocumentPosition(t))},addEvent:function(e,t,n){e.attachEvent?(e["e"+t+n]=n,e[t+n]=function(){e["e"+t+n](window.event)},e.attachEvent("on"+t,e[t+n])):e.addEventListener(t,n,!1)},removeEvent:function(e,t,n){e.detachEvent?(e.detachEvent("on"+t,e[t+n]),e[t+n]=null):e.removeEventListener(t,n,!1)},closest:function(){this.content.style.display="none",this.hpobj&&(this.hpobj.style.display=""),this.sugTg=0,this.isDisplay=0},displayst:function(){this.point.style.display="none",this.content.style.display="",this.hpobj&&(this.hpobj.style.display="none"),this.sugTg=1,document.getElementById("image-sug-no-0")&&(document.getElementById("image-sug-no-0").style.display="none"),document.getElementById("image-sug-no-1")&&(document.getElementById("image-sug-no-1").style.display="none"),window.sugrecno=-1,this.url.focus()},checkImgType:function(e){return!0},getValue:function(){var e=this.file,t=this.url,n=this.point,i=this.form2;n.style.display="none";var s=e.value;t.value=s;var o=""!=s&&this.checkImgType(s);this.submitForm(o,i,"uploadSearch")},handlerFiles:function(e){var t=this;if(!t.isOpera&&window.FileReader){var n=e[0],i=(t.file,new FileReader);if(t.chrome&&!window.useFlashUp&&n&&n.size>=1048576)throw alert("拖动的图片大小不能超过1M"),t.point.style.display="none",new Error("image file size exceed");i.onload=function(e){return function(n){var i=n.target.result,o=e.type,a=i.split(",")[1];if(window.useFlashUp&&a){var r=s.getMovie("STUUpload");if(r)return void r.setImgStrData(a,o,e.name)}t.submitForm2(i,e.name,o)}}(n),i.readAsDataURL(n)}},handlerFiles2:function(e){var t=this;if(!t.isOpera&&window.FileReader){t.showLoading();var n=e[0].getAsFile(),i=(t.file,new FileReader);if(t.chrome&&!window.useFlashUp&&n&&n.size>=1048576)throw alert("截取的图片大小不能超过1M"),t.point.style.display="none",new Error("image file size exceed");window.ss&&window.ss({p:"jpUploadSearch"}),i.onload=function(e){return function(n){var i=n.target.result,o=e.type,a=i.split(",")[1],r="shitu"+(new Date).getTime()+".png";if(window.useFlashUp&&a){var d=s.getMovie("STUUpload");if(d)return void d.setImgStrData(a,o,r)}t.submitForm2(i,r,o)}}(n),i.readAsDataURL(n)}},_imgReq:function(){},submitForm:function(e,t,n){return e?(window.ss&window.ss({type:"searchNum",p:n,form:"searchResult"}),this.entry.style.zIndex="2",this.point.style.display="block",this.onuploadtg=1,t.submit(),!0):(alert("您的文件格式不正确或图片网址过长。支持jpg、gif、png、jpeg、bmp格式图片及250个字符内的图片网址。"),this.point.style.display="none",this.draghp.style.display="none",t.reset(),!1)},submitForm2:function(e,t,n){var i,s=this,o=document.getElementById("filename"),a=-1!=n.indexOf("image"),r=e;document.getElementById("dragimage")?i=document.getElementById("dragimage"):(i=document.createElement("input"),i.name="dragimage",i.id="dragimage",i.type="hidden",s.form2.appendChild(i)),i.value=r,o.value=t||"",a=!0,s.submitForm(a,s.form2,"uploadSearch")},showLoading:function(){this.point.style.display="block"},hideLoading:function(){this.point.style.display="none"},on:function(e,t,n){this.callbacks[e]&&(this.callbacks[e][t]=n)},fire:function(e,t){this.callbacks[e]&&(this.callbacks[e][t]=null,delete this.callbacks[e][t])}}});
;define("searchresult:widget/showGirlPKDialog/init.js",function(require,exports,module){function init(){outerContainer=$("#showgirl-pk-wrap"),outerContainer&&(closeBtn=$("#pk-close-btn"),sameBtn=$(".pk-same-btn",outerContainer),leftWinBtn=$("#pk-item-left .pk-win-btn",outerContainer),rightWinBtn=$("#pk-item-right .pk-win-btn",outerContainer),leftImgContainer=$("#pk-item-left .pk-img-wrap",outerContainer),rightImgContainer=$("#pk-item-right .pk-img-wrap",outerContainer),leftPlusIndicator=$("#pk-item-left .pk-plus-indicator",outerContainer),rightPlusIndicator=$("#pk-item-right .pk-plus-indicator",outerContainer),_setupEvent())}function _setupEvent(){closeBtn.on("click",hide),EventEmitter.eventCenter.on("showgirl-pk-show",function(){show(),p(null,202,{type:"show",pos:"pkdialog"})}),leftWinBtn.on("click",function(){pkResult(LEFT_WIN)}),rightWinBtn.on("click",function(){pkResult(RIGHT_WIN)}),sameBtn.on("click",function(){pkResult(BOTH_WIN)}),EventEmitter.eventCenter.on("resize",center)}function pkResult(t){if(currentLeftObj._voted||currentRightObj._voted||isPlusAnimating)return void(isPlusAnimating||renderPicture());var e=[],i=[],n="";switch(t){case LEFT_WIN:e.push(currentLeftObj),i.push(leftPlusIndicator),n="left";break;case RIGHT_WIN:e.push(currentRightObj),i.push(rightPlusIndicator),n="right";break;default:e.push(currentLeftObj,currentRightObj),i.push(leftPlusIndicator,rightPlusIndicator),n="both"}for(var r,a=[],o=0,s=e.length;s>o;o++)r=e[o],a.push(r.set_id),r._voted=!0;sendVoteResult(a),animatePlusIndicator(i,renderPicture),p(null,202,{type:"vote",pos:"pkdialog",btn:n})}function animatePlusIndicator(t,e){if(t&&t.length>0&&!isPlusAnimating){var i=200,n=-30,r=n-i;isPlusAnimating=!0;for(var a,o=function(){for(var n,r=0,a=t.length;a>r;r++)n=t[r],n.hide().css("top",i+"px");isPlusAnimating=!1,"function"==typeof e&&e()},s=0,u=t.length;u>s;s++)a=t[s],a.show();var l=Timeline({duration:500,rander:function(e){for(var n,a=0,o=t.length;o>a;a++)n=t[a],n.css("top",i+r*e+"px")},end:function(){setTimeout(o,500)}});l.init(),l.launch()}}function sendVoteResult(t){if(t&&t.length>0){var e="["+t.join(",")+"]",i=POST_VOTE_URL+"&word="+queryEnc+"&wd="+queryEnc+"&ie="+ie;$.post(i,{set_id_list:e})}}function show(){return picArray&&!(picArray.length<2)||isRequestData?void(picArray.length>=2&&(center(),outerContainer.show())):void fetchPKData(function(){renderPicture(),show()})}function fetchPKData(callback){var url=GET_JSON_URL+"&word="+queryEnc+"&wd="+queryEnc+"&ie="+ie,failCall=function(){alert("Sorry，PK的人忒多，服务器有点忙不过来了……"),isRequestData=!1};$.get(url).done(function(responseText){var jsonData=responseText;if("string"==typeof responseText){try{jsonData=eval("("+responseText+")")}catch(e){return void failCall()}jsonData&&jsonData.length>0&&(picArray=jsonData),isRequestData=!1,"function"==typeof callback&&callback()}}).fail(failCall),isRequestData=!0}function renderPicture(){if(picArray.length>=2){currentLeftObj=getRandomPic(),currentRightObj=getRandomPic();var t=generateHTML(currentLeftObj),e=generateHTML(currentRightObj);leftImgContainer.html(t),rightImgContainer.html(e)}else fetchPKData(renderPicture)}function generateHTML(t){var e="";if(t){imgFormatFn||(imgFormatFn=doT.compile(IMG_TPL));var i=utils.zoomImageLimitMin(t.pk_img_width,t.pk_img_height,IMG_MIN_WIDTH,IMG_MIN_HEIGHT);e=imgFormatFn({thumbURL:t.pk_img_url,detailLink:getDetailLink(t),imgRenderHeight:i.height,imgRenderWidth:i.width,imgRenderLeft:i.left,imgRenderTop:0})}return e}function getDetailLink(t){var e;return e=t.set_from_url?t.set_from_url:"/i?tn=newsdetail&top=0&set_id="+t.set_id+"&pn=0&rn="+t.pic_num+"&word="+queryEnc+"&ie="+ie}function getRandomPic(){var t=Math.min(picArray.length-1,Math.ceil(picArray.length*Math.random()));return picArray.splice(t,1)[0]}function hide(){outerContainer.hide(),p(null,202,{type:"hide",pos:"pkdialog"})}function center(){if(outerContainer.length>0){$win||($win=$(window),$body=$(document.body));var t=$win.width(),e=$body.scrollLeft(),i=Math.max(0,e+(t-DIALOG_WIDTH)/2);outerContainer.css("left",i+"px")}}var $=require("common:widget/ui/jquery/jquery.js"),EventEmitter=require("common:widget/ui/EventEmitter/EventEmitter.js"),ParamsBus=require("searchresult:widget/ui/base/ParamsBus/ParamsBus.js"),utils=require("searchresult:widget/ui/base/utils/utils.js"),Timeline=require("searchresult:widget/ui/base/Timeline/Timeline.js"),p=require("searchresult:widget/ui/base/statistic/statistic.js"),GET_JSON_URL="/i?tn=newspk",POST_VOTE_URL="/i?tn=newslikenum",IMG_TPL='<a onclick="p(event, 202, {type:\'click\', pos:\'pkdialog\', pos2:\'thumb\'});" target="_blank" hidefocus="hidefocus" href="{{=it.detailLink}}" class="pk-img-wrap-link" title="点击查看更多美图"><img class="pk-img-thumb" src="{{=it.thumbURL}}" style="width:{{=it.imgRenderWidth}}px; height:{{=it.imgRenderHeight}}px; top:{{=it.imgRenderTop}}px; left:{{=it.imgRenderLeft}}px; " /></a>',IMG_MIN_WIDTH=195,IMG_MIN_HEIGHT=250,DIALOG_WIDTH=839,DIALOG_HEIGHT=483,LEFT_WIN="4",RIGHT_WIN="5",BOTH_WIN="6",outerContainer,closeBtn,sameBtn,leftWinBtn,rightWinBtn,leftImgContainer,rightImgContainer,leftPlusIndicator,rightPlusIndicator,isPlusAnimating=!1,picArray,isRequestData=!1,currentLeftObj,currentRightObj,queryEnc=ParamsBus.getTplConfItem("queryWordEnc"),ie=ParamsBus.getTplConfItem("ie"),$win,$body,imgFormatFn;module.exports={init:init,hide:hide}});
;define("searchresult:widget/showMorePage/init.js",function(e,t,n){{var i=e("common:widget/ui/jquery/jquery.js"),c=e("common:widget/ui/EventEmitter/EventEmitter.js"),o=e("searchresult:widget/ui/base/StaticGlobalConf/StaticGlobalConf.js"),s=e("searchresult:widget/ui/base/statistic/statistic.js");n.exports=function(){var e,t=null,n=!1,a=!1,u=i(document.body),r=(o.get("pageMoreNum"),function(){t=i("#pageMore"),e=i("#resultInfo"),t.on("click",function(){a&&(a=!1),b()}),c.eventCenter.on("strategy",function(e){var t="showImg";t&&t!=e.strategyType||(y(e.state),h(e.state))}),c.eventCenter.on("scroll",function(){g()})}),l=function(){var e=0;return document.documentElement&&document.documentElement.scrollTop?e=document.documentElement.scrollTop:document.body&&(e=document.body.scrollTop),e},d=function(){return document.body.clientHeight&&document.documentElement.clientHeight?Math.min(document.body.clientHeight,document.documentElement.clientHeight):Math.max(document.body.clientHeight,document.documentElement.clientHeight)},m=function(){var e=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),t=l(),n=d();return Math.abs(t+n+100-e)<=180?!0:!1},g=function(){"visible"==t.css("visibility")||n?m()&&(a||(a=!0,s(null,211,{reachbottom:!0}))):(document.getElementById("loading").style.display="block",u.addClass("cms-area-hidden"))},h=function(e){((e.cachePage||e.currPage)===e.currMaxPage||n)&&(document.getElementById("loading").style.display="none")},y=function(t){var c=(t.maxPage,t.currMaxPage),o=t.cachePageLineNum,s=t.cachePage||t.currPage;f(),s==c&&parseInt(t.currPageEndPn)+1<parseInt(t.listNum)?v():f(),t.currPageEndPn+1>=t.listNum?(n=!0,h(t)):n=!1,n&&(e.css("visibility","hidden"),f()),(c==s||n)&&u.removeClass("cms-area-hidden"),3!==parseInt(o)&&(i("#pageMore").hide(),i("#loading").hide())},b=function(){f(),g(),c.eventCenter.trigger("morePage")},v=function(){t.css("visibility","visible"),e.css("visibility","visible")},f=function(){t.css("visibility","hidden"),e.css("visibility","hidden")};return{ini:r}}()}});
;define("searchresult:widget/specialRecommend/init.js",function(i,t,s){var e=i("common:widget/ui/jquery/jquery.js"),h=i("searchresult:widget/ui/base/statistic/statistic.js"),n=s.exports=function(){this.hotimgs=null,this.hotimgslist=null,this.page=0,this.pagenum=0,this.position=[],this.timer=null};e.extend(n.prototype,{render:function(i){var t=this,s=i.data;if(0!=s.length){var n=[],a=0,o=e("#specialRecommend").width()-70;this.position=[0];for(var p in s){var g=s[p],c=Math.round(210*g.width/g.height),m=g.fromPageTitle;m=m.replace(/ /g,"");var r=Math.floor(c/14);m.length>r&&(m=m.substring(0,r)),a+=c,a>=this.position[this.position.length-1]+o&&this.position.push(a-c);var l="/i?tn=baiduimage&ipn=r&ct=201326592&cl=2&lm=-1&st=-1&fm=&fr=&sf=1&fmq=1383635220671_R&ie=utf-8&word="+encodeURIComponent(g.recWord);g.recURL&&(l=g.recURL),n.push('<a onclick="p(null,492,{pn:'+p+",u:'"+encodeURIComponent(g.objURL)+"',newp:492"+(g.recURL?",tp:'rec'":"")+'});" target="_blank" href="'+l+'" class="item" i="'+(this.position.length-1)+'"><img class="recimg" src="'+g.hoverURL+'" width='+c+' height=210 /><div class="itemct">'+m+"</div></a>"),a+=12}this.pagenum=Math.floor((a-12)/o)+1,a-o>this.position[this.pagenum-1]+10?(this.position[this.pagenum]=a-o-5,this.pagenum++):this.position[this.pagenum-1]+o>a+200&&(this.position[this.pagenum-1]=a-o);for(var u=[],p=0;p<this.pagenum;p++)u.push('<a class="btn '+(p?"":"actbtn")+'" ></a>');var d=(24*this.pagenum,[]);d.push('<div id="hotimgs">'),d.push(' <a class="btnPrev"></a><a class="btnNext"></a>'),d.push(' <div class="wrapper">'),d.push('  <div class="wrapperbox">'),d.push('     <div id="hotimgslist" style="width:'+(this.position[this.pagenum-1]+2*o)+'px;">'),d.push(n.join("")),d.push("     </div>"),d.push("   </div>"),d.push(" </div>"),d.push("</div>"),e("#specialRecommend").prepend(d.join(""));{e("#wrapperbox").width()}this.hotimgs=e("#hotimgs"),this.hotimgslist=e("#hotimgslist"),e("#hotimgs .btnPrev").click(function(){t.change(t.page-1)}),e("#hotimgs .btnNext").click(function(){this.page++,t.change(t.page+1)}),this.checkPage(),h(null,493)}},change:function(i){var t=this;if(this.page!=i){clearTimeout(t.timer),e(".btn",this.hotimgs).eq(this.page).removeClass("actbtn");var s=-1*t.position[i],h=-1*t.position[i];e(".btn",this.hotimgs).eq(i).addClass("actbtn"),t.page=i,this.hotimgslist.animate({left:s},500,function(){t.hotimgslist.css({left:h})}),t.checkPage()}},checkPage:function(){e("#hotimgslist .item[i="+this.page+"] .itemct").show(),e("#hotimgslist .item[i="+(this.page+1)+"] .itemct").hide(),0==this.page?e("#hotimgs .btnPrev").hide():e("#hotimgs .btnPrev").show(),this.page+1>=this.pagenum?e("#hotimgs .btnNext").hide():e("#hotimgs .btnNext").show()},nextPage:function(){var i=this.page+1;i>=this.pagenum&&(i=0),this.change(i)}})});
;define("searchresult:widget/specialTip/init.js",function(t,e,n){var o=t("common:widget/lib/tangram/base/base.js"),i=t("common:widget/ui/monitorRequest/monitorRequest.js");BD=window.BD||{},BD.IMG=BD.IMG||{},BD.IMG.Tip360=n.exports=function(){var t,e=!0,n=0,c=0,s="http://imgstat.baidu.com/4.gif",d=null,m=null,u=null,l=function(l,r,p){t=document.body,r="closeSTip",d=document.getElementById(l),closeBtn=!0,m=document.getElementById("sttb"),u=document.getElementById("userInfo");var a=document.getElementById("topAddDeskLink");if(d&&closeBtn&&a){i(s+"?p=top&cp=tipshow"),n=d.offsetHeight,c=e?0:n;o.on(a,"click",function(){i(s+"?p=top&cp=desk"),a.href="http://www.baidu.com/search/browser.html"})}};return{init:l}}()});
;define("searchresult:widget/userInfo/init.js",function(t,e,a){BD=window.BD||{},BD.IMG=BD.IMG||{};var o=t("common:widget/ui/jquery/jquery.js"),n=t("common:widget/ui/EventEmitter/EventEmitter.js"),i=t("searchresult:widget/ui/base/utils/utils.js");BD.IMG.UserState=a.exports=function(){var t=location.href,e="http://www.baidu.com",a="http://passport.baidu.com",s=a+"/v2/?login&authsite=1&tpl=im&u="+encodeURIComponent(t),r=a+"/v2/?reg&regType=1&tpl=im&u="+encodeURIComponent(t),u=a+"/?logout&u="+encodeURIComponent(t),c=function(t){var a=t.userid||"",c=t.spaceUrl||"",d=t.pid,l=BD.IMG.tplConf.hasUserName,m=document.getElementById("userInfo"),g="";if(t.thirdLogo&&"0"!==t.thirdLogo&&(g="padding:0 0 1px 17px; background:url( http://passport.bdimg.com/passApi/img/icon_"+t.thirdLogo+"_16.png) no-repeat 0 0;"),m){var h=l?"http://i.baidu.com/?from=image":"https://passport.baidu.com/v2/?ucenteradduname";""==a&&""==c?m.innerHTML='<a data-sargs="etc=bdindex" href='+e+'>百度首页</a>|<a data-sargs="etc=login" id="passLog" href='+s+'>登录</a><a data-sargs="etc=reg" id="passReg" class="last" href='+r+">注册</a>":""!=a&&(m.innerHTML='<a data-sargs="etc=userinfo" target="_blank" id="username_info" href="'+h+'">'+a+'</a>|<a data-sargs="etc=mineimg" class="last_left"  target="_blank" href="http://image.baidu.com/albumlist/'+d+'" >我的图片</a>|<a data-sargs="etc=bdindex" class="last_left" href='+e+' >百度首页</a><div id="username_menu" class="username_menu" style="right: 134px; display: none;"><a data-sargs="etc=home" target="_blank" href="'+h+'">个人中心</a><a data-sargs="etc=passport" target="_blank" href="http://passport.baidu.com/center">帐号设置</a><a data-sargs="etc=logout" id="passLogout" class="user_exit" href="'+u+'" style="overflow:hidden">退出</a></div>'),setTimeout(function(){{var t=o("a[data-sargs]",m);t.length}t.on("mousedown",function(t){var e=t||window.event,a=(this.name,i.query2Json(this.getAttribute("data-sargs")));p(e,55,a)});var e=document.getElementById("username_menu"),a=document.getElementById("username_info");if(e&&a){var n;a.onmouseover=e.onmouseover=function(){clearTimeout(n),n=setTimeout(function(){e.style.display="block"},200)},a.onmouseout=e.onmouseout=function(){clearTimeout(n),n=setTimeout(function(){e.style.display="none"},200)}}},1e3),o.getScript("http://passport.baidu.com/passApi/js/uni_login_wrapper.js?cdnversion="+(new Date).getTime(),function(){var e=document.getElementById(t.logID);if(e){e.setAttribute("href","javascript:void(0);");var a={tangram:!0,cache:!1,apiOpt:{product:t.tpl,staticPage:t.jumpPage,memberPass:!0,u:location.href},authsite:["tsina","renren","qzone"],authsiteCfg:{tpl:"im",display:"popup",act:"optional",jumpUrl:location.protocol+"//"+location.host+"/static/imgsearch/html/xd.html",onBindSuccess:function(){return location.reload(),!0}},onLoginSuccess:function(){location.reload()},onShow:function(){n.eventCenter.trigger("loginPop.show")},onHide:function(){n.eventCenter.trigger("loginPop.hide")}},o=passport.pop.init(a);BD.IMG.ext=BD.IMG.ext||{},BD.IMG.ext.loginPop=o,o&&(e.onclick=function(){return o.show(),!1})}})}};return{ini:c}}()});